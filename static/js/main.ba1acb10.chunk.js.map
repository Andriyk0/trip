{"version":3,"sources":["store/index.ts","store/selectors.ts","api/api.ts","component/Flight/Flight.tsx","component/Trip/Trip.tsx","App.tsx","index.tsx"],"names":["ActionType","setTripBrief","createAction","SET_TRIP_BRIEF","setTripFlight","SET_TRIP_FLIGHTS","reducer","createReducer","tripBrief","flights","builder","addCase","state","action","payload","store","configureStore","getTripBrief","getTripFlights","getData","a","fetch","response","json","getFlightInfo","arr","brief","forEach","trip","flightAlerts","item","flight","briefId","id","push","Flight","useSelector","className","map","airlineName","flightNumber","departure","cityName","airportName","arrival","Trip","dispatch","useDispatch","useState","previewDay","setPreviewDay","nextDay","setNextDay","dayLength","setDayLength","showFlight","setShowFlight","useEffect","length","alert","loadDataFromServer","showNextDay","dataTrip","showPreviewDay","src","dailyPhoto","alt","headline","shortInformation","documents","href","node","file","httpsUrl","location","type","onClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oPAIKA,E,uGAAAA,K,gCAAAA,E,qCAAAA,M,KAKL,IAKaC,EAAeC,YAAmBF,EAAWG,gBAC7CC,EAAgBF,YAAwBF,EAAWK,kBAE1DC,EAAUC,YARK,CACnBC,UAAW,GACXC,QAAS,KAMiC,SAACC,GAC3CA,EAAQC,QAAQV,GAAc,SAACW,EAAOC,GAEpCD,EAAMJ,UAAYK,EAAOC,WAE3BJ,EAAQC,QAAQP,GAAe,SAACQ,EAAOC,GAErCD,EAAMH,QAAUI,EAAOC,cAIdC,EAAQC,YAAe,CAClCV,YC7BWW,EAAe,SAACL,GAAD,OAAkBA,EAAMJ,WACvCU,EAAiB,SAACN,GAAD,OAAkBA,EAAMH,SCCzCU,EAAO,uCAAG,4BAAAC,EAAA,sEACEC,MAHb,sDAEW,cACfC,EADe,yBAGdA,EAASC,QAHK,2CAAH,qDAMPC,EAAa,uCAAG,WAAOF,GAAP,eAAAF,EAAA,6DACrBK,EAAgB,GAEtBH,EAASI,MAAMC,SAAQ,SAAAC,GAAI,OACzBN,EAASO,aAAaF,SAAQ,SAAAG,GAAI,OAChCA,EAAKrB,QAAQkB,SAAQ,SAAAI,GACfA,EAAOC,UAAYJ,EAAKK,IAC1BR,EAAIS,KAAKH,YAPU,kBAapBN,GAboB,2CAAH,sD,qBCHbU,EAAmB,WAC9B,IAAM1B,EAAU2B,YAAYlB,GAE5B,OACE,qBAAKmB,UAAU,SAAf,SACG5B,EAAQ6B,KAAI,SAAAP,GAAM,OACjB,sBAAKM,UAAU,eAAf,UACE,mBAAGA,UAAU,kBAAb,4BAA4CN,EAAOQ,eACnD,qDAAsBR,EAAOS,gBAC7B,gCACE,2CACA,uBACA,4CAAaT,EAAOU,UAAUC,YAC9B,4BAAIX,EAAOU,UAAUE,iBAEvB,gCACE,yCACA,uBACA,4CAAaZ,EAAOa,QAAQF,YAC5B,4BAAIX,EAAOa,QAAQD,mBAbYZ,EAAOE,UCDrCY,EAAiB,WAAO,IAAD,IAC5BC,EAAWC,cACXvC,EAAY4B,YAAYnB,GAC9B,EAAoC+B,oBAAU,GAA9C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA8BF,mBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,GAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAAoCN,oBAAS,GAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KAEAC,qBAAU,YACgB,uCAAG,8BAAArC,EAAA,+EAEAD,IAFA,cAEjBG,EAFiB,gBAGDE,EAAcF,GAHb,OAGjBb,EAHiB,OAKvBqC,EAAS1C,EAAcK,IACvB6C,EAAahC,EAASI,MAAMgC,QAC5BZ,EAAS7C,EAAaqB,EAASI,MAAM,KAPd,kDASvBiC,MAAM,kBATiB,0DAAH,qDAaxBC,KACC,IAEH,IAAMC,EAAW,uCAAG,4BAAAzC,EAAA,yDACdiC,IAAcF,EADA,iEAKKhC,IALL,OAKZ2C,EALY,OAOlBhB,EAAS7C,EAAa6D,EAASpC,MAAMyB,KACrCC,EAAWD,EAAU,GACrBD,EAAcD,EAAa,GATT,2CAAH,qDAYXc,EAAc,uCAAG,4BAAA3C,EAAA,2DACjB6B,EAAa,GADI,iEAKE9B,IALF,OAKf2C,EALe,OAOrBhB,EAAS7C,EAAa6D,EAASpC,MAAMuB,KACrCG,EAAWD,EAAU,GACrBD,EAAcD,EAAa,GATN,2CAAH,qDAgBpB,OACE,sBAAKZ,UAAU,OAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBACE2B,IAAKxD,EAAUyD,WACfC,IAAI,aACJ7B,UAAU,eAEZ,oBAAIA,UAAU,cAAd,SAA6B7B,EAAU2D,WACvC,sBAAK9B,UAAU,gBAAf,UACE,oBAAGA,UAAU,oBAAb,UACG7B,EAAU4D,iBADb,UAEG5D,EAAU6D,iBAFb,aAEG,EAAqB/B,KAAI,SAAAR,GAAI,OAC5B,mBACEwC,KAAMxC,EAAKyC,KAAKC,KAAKC,SAErBpC,UAAU,aAHZ,4BAEOP,EAAKG,UAOhB,sBAAKI,UAAU,qBAAf,UACE,qBACE2B,IAAI,uBACJE,IAAI,WACJ7B,UAAU,yBAEZ,mBAAGA,UAAU,iBAAb,mBAA+B7B,EAAUkE,gBAAzC,aAA+B,EAAoBA,iBAGvD,wBACEC,KAAK,SACLC,QAASb,EACT1B,UAAU,oBAHZ,yBAOA,wBACEsC,KAAK,SACLtC,UAAU,sBACVuC,QAAS,WA5CFpB,GAAbD,IAyCI,SAKGA,EAAa,QAAU,gBAE1B,wBACEoB,KAAK,SACLC,QAASf,EACTxB,UAAU,oBAHZ,yBAQDkB,GAAc,cAAC,EAAD,QChHRsB,EAAgB,WAC3B,OACE,qBAAKxC,UAAU,MAAf,SACE,cAAC,EAAD,OCANyC,IAASC,OACP,cAAC,IAAD,CAAUhE,MAAOA,EAAjB,SACE,cAAC,IAAMiE,WAAP,UACE,cAAC,EAAD,QAIJC,SAASC,eAAe,W","file":"static/js/main.ba1acb10.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable no-shadow */\nimport { configureStore, createAction, createReducer } from '@reduxjs/toolkit';\n\nenum ActionType {\n  SET_TRIP_BRIEF = 'SET_TRIP_BRIEF',\n  SET_TRIP_FLIGHTS = 'SET_TRIP_FLIGHTS',\n}\n\nconst InitialState = {\n  tripBrief: {},\n  flights: [],\n};\n\nexport const setTripBrief = createAction<Trip>(ActionType.SET_TRIP_BRIEF);\nexport const setTripFlight = createAction<Flights[]>(ActionType.SET_TRIP_FLIGHTS);\n\nconst reducer = createReducer(InitialState, (builder) => {\n  builder.addCase(setTripBrief, (state, action:any) => {\n    // eslint-disable-next-line no-param-reassign\n    state.tripBrief = action.payload;\n  });\n  builder.addCase(setTripFlight, (state, action:any) => {\n    // eslint-disable-next-line no-param-reassign\n    state.flights = action.payload;\n  });\n});\n\nexport const store = configureStore({\n  reducer,\n});\n","export const getTripBrief = (state: State) => state.tripBrief;\nexport const getTripFlights = (state: State) => state.flights;\n","const API = 'https://live.vamoos.com/api/itineraries/VMD-VL1234';\n\nexport const getData = async () => {\n  const response = await fetch(API);\n\n  return response.json();\n};\n\nexport const getFlightInfo = async (response:Data) => {\n  const arr:Flights[] = [];\n\n  response.brief.forEach(trip => (\n    response.flightAlerts.forEach(item => (\n      item.flights.forEach(flight => {\n        if (flight.briefId === trip.id) {\n          arr.push(flight);\n        }\n      })\n    ))\n  ));\n\n  return arr;\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getTripFlights } from '../../store/selectors';\nimport './Flight.scss';\n\nexport const Flight: React.FC = () => {\n  const flights = useSelector(getTripFlights);\n\n  return (\n    <div className=\"flight\">\n      {flights.map(flight => (\n        <div className=\"flight__card\" key={flight.id}>\n          <p className=\"flight__airline\">{`Airline: ${flight.airlineName}`}</p>\n          <p>{`Flight number: ${flight.flightNumber}`}</p>\n          <div>\n            <h3>Departure</h3>\n            <hr />\n            <p>{`City: ${flight.departure.cityName}`}</p>\n            <p>{flight.departure.airportName}</p>\n          </div>\n          <div>\n            <h3>Arrival</h3>\n            <hr />\n            <p>{`City: ${flight.arrival.cityName}`}</p>\n            <p>{flight.arrival.airportName}</p>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-unused-expressions */\n/* eslint-disable no-alert */\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setTripBrief, setTripFlight } from '../../store';\nimport { getTripBrief } from '../../store/selectors';\nimport { getData, getFlightInfo } from '../../api/api';\nimport './Trip.scss';\nimport { Flight } from '../Flight';\n\nexport const Trip: React.FC = () => {\n  const dispatch = useDispatch();\n  const tripBrief = useSelector(getTripBrief);\n  const [previewDay, setPreviewDay] = useState(-1);\n  const [nextDay, setNextDay] = useState(1);\n  const [dayLength, setDayLength] = useState(0);\n  const [showFlight, setShowFlight] = useState(false);\n\n  useEffect(() => {\n    const loadDataFromServer = async () => {\n      try {\n        const response = await getData();\n        const flights = await getFlightInfo(response);\n\n        dispatch(setTripFlight(flights));\n        setDayLength(response.brief.length);\n        dispatch(setTripBrief(response.brief[0]));\n      } catch (error) {\n        alert('Eror try again');\n      }\n    };\n\n    loadDataFromServer();\n  }, []);\n\n  const showNextDay = async () => {\n    if (dayLength === nextDay) {\n      return;\n    }\n\n    const dataTrip = await getData();\n\n    dispatch(setTripBrief(dataTrip.brief[nextDay]));\n    setNextDay(nextDay + 1);\n    setPreviewDay(previewDay + 1);\n  };\n\n  const showPreviewDay = async () => {\n    if (previewDay < 0) {\n      return;\n    }\n\n    const dataTrip = await getData();\n\n    dispatch(setTripBrief(dataTrip.brief[previewDay]));\n    setNextDay(nextDay - 1);\n    setPreviewDay(previewDay - 1);\n  };\n\n  const visibleFlight = () => {\n    showFlight ? setShowFlight(false) : setShowFlight(true);\n  };\n\n  return (\n    <div className=\"trip\">\n      <div className=\"trip__container\">\n        <img\n          src={tripBrief.dailyPhoto}\n          alt=\"dailyPhoto\"\n          className=\"trip__foto\"\n        />\n        <h2 className=\"trip__title\">{tripBrief.headline}</h2>\n        <div className=\"trip__details\">\n          <p className=\"trip__description\">\n            {tripBrief.shortInformation}\n            {tripBrief.documents?.map(item => (\n              <a\n                href={item.node.file.httpsUrl}\n                key={item.id}\n                className=\"trip__link\"\n              >\n                More details...\n              </a>\n            ))}\n          </p>\n          <div className=\"trip__location-box\">\n            <img\n              src=\"./image/location.png\"\n              alt=\"location\"\n              className=\"trip__location-image\"\n            />\n            <p className=\"trip__location\">{tripBrief.location?.location}</p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          onClick={showPreviewDay}\n          className=\"trip__prev-button\"\n        >\n          Preview Day\n        </button>\n        <button\n          type=\"button\"\n          className=\"trip__flight-button\"\n          onClick={() => visibleFlight()}\n        >\n          {showFlight ? 'Close' : 'Flight info'}\n        </button>\n        <button\n          type=\"button\"\n          onClick={showNextDay}\n          className=\"trip__next-button\"\n        >\n          Next Day\n        </button>\n      </div>\n      {showFlight && <Flight />}\n    </div>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { Trip } from './component/Trip';\n\nexport const App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <Trip />\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { Provider } from 'react-redux';\nimport { App } from './App';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}